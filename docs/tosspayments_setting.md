# Hotopay - Toss Payments 연동

이 문서에서는 Hotopay 모듈과 Toss Payments를 연동하는 방법을 설명합니다.

이 글은 Toss Payments에 가맹점으로 가입하여 실제 서비스를 할 수 있다는 가정하에 작성합니다.



## Toss Payments에 등록

1. https://app.tosspayments.com/ 에 접속해줍니다

2. `[매출 · 정산 관리]` 항목에 있는 자신의 가맹점위에 마우스를 올려 `[개발 연동]`버튼을 클릭해주세요

3. 테스트 혹은 라이브 항목이 있는데, 테스트를 원한다면 테스트 탭에서, 실 적용시에는 라이브 탭에서 적용해주세요.

4. API 키 항목에서 `[라이브(혹은 테스트) 클라이언트 키]`와  `[라이브(혹은 테스트) 시크릿 키]`를 복사하여 메모장에 적어주세요

5. `[가상계좌 입금 알림 URL]`과 `[Webhook 콜백 URL]`에는 아래 URL을 적어주세요
   - https://{자신의 사이트 URL}/hotopay/api/v1/toss/paymentCallback
   
6. 각각 저장하기 버튼을 눌러주세요

7. `"유효한 URL이 아닙니다."` 라는 메세지가 나오더라도 저장하기 버튼을 눌러 넘어가주세요

8. `[응답 버전]`은 1.3으로 설정해주세요



여기까지 완료하셨다면 `[클라이언트 키]`와 `[시크릿 키]`가 존재합니다.



## HotoPay 모듈과 연동

1. 사이트 관리자 페이지에 접속해주세요
2. `[설치된 모듈 > Hoto Pay]` 항목에 들어가주세요
3. `[기본 설정]` 탭에 `[Toss Payments 설정]` 항목을 보시면 `[클라이언트 키]`와 `[시크릿 키]` 항목이 존재합니다
4. 클라이언트 키에는 이전에 복사해두었던 `[라이브(혹은 테스트) 클라이언트 키]`를, 시크릿 키에는 `[라이브(혹은 테스트) 시크릿 키]`를 붙여넣어주세요.
   - 클라이언트 키는 "test_ck" 혹은 "live_ck" 로 시작합니다
   - 시크릿 키는 "test_sk" 혹은 "test_sk"로 시작합니다
5. 토스를 통해 결제할 결제 수단을 선택해주세요.  
`문화상품권, 휴대폰결제는 토스에서 별도 신청 후 사용이 가능합니다`


**주의, 실 사용시에는 라이브 키로 전부 교체해주시기 바랍니다**

테스트 키로 사용시 결제를 해도 돈이 나가지 않습니다.

